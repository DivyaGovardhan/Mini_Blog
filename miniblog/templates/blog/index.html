{% extends "layout/basic.html" %}

{% block content %}
  <h2>Последние посты</h2>

  {% for post in posts %}
    <div class="post">
      <h3>{{ post.title }}</h3>
      <p>Автор: {{ post.author.username }}</p>
      <p>Дата: {{ post.created_at }}</p>
      <p>{{ post.content }}</p>
      <p>Комментарии: {{ post.comment_count }}</p>
      <!-- Здесь можно добавить кнопку лайка -->
      <hr>
    </div>
  {% endfor %}

  {% if is_paginated %}
      <div class="pagination">
          <span class="step-links">
              {% if page_obj.has_previous %}
                  <a href="?page=1">&laquo; первая</a>
                  <a href="?page={{ page_obj.previous_page_number }}">предыдущая</a>
              {% endif %}

              <span class="current">
                  Страница {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}.
              </span>

              {% if page_obj.has_next %}
                  <a href="?page={{ page_obj.next_page_number }}">следующая</a>
                  <a href="?page={{ page_obj.paginator.num_pages }}">последняя &raquo;</a>
              {% endif %}
          </span>
      </div>
  {% endif %}
{% endblock %}
